import{S,N as x,K as q,A as M,a as I,i as L,b as A}from"./assets/vendor-CbU8opPL.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();document.getElementById("menu-btn").addEventListener("click",function(){document.querySelector(".header-nav").classList.toggle("visually-hidden"),document.querySelectorAll(".header-nav-list-item").forEach((n,i)=>{n.style.animationDelay=`${i*.2}s`,setTimeout(()=>{n.classList.add("visible")},i*200)}),document.addEventListener("click",function(n){n.target!==document.getElementById("menu-btn")&&document.querySelector(".header-nav").classList.add("visually-hidden")})});const B=document.getElementById("burger"),m=document.getElementById("mobile-menu"),C=document.getElementById("close-menu");B.addEventListener("click",()=>{m.classList.add("is-opened"),document.body.style.overflow="hidden"});C.addEventListener("click",()=>{m.classList.remove("is-opened"),document.body.style.overflow="auto"});document.querySelectorAll(".mobile-menu-list a").forEach(t=>{t.addEventListener("click",()=>{m.classList.remove("is-opened"),document.body.style.overflow="auto"})});document.querySelector(".mobile-order-btn").addEventListener("click",()=>{m.classList.remove("is-opened"),document.body.style.overflow="auto"});window.addEventListener("resize",()=>{window.innerWidth>=768&&m.classList.remove("is-opened")});document.addEventListener("DOMContentLoaded",()=>{new S(".swiper",{modules:[x,q,M],slidesPerView:1,spaceBetween:20,loop:!1,navigation:{prevEl:".swiper-button-prev",nextEl:".swiper-button-next"},keyboard:{enabled:!0,onlyInViewport:!0},grabCursor:!0,a11y:{enabled:!0,prevSlideMessage:"Попередній слайд",nextSlideMessage:"Наступний слайд",firstSlideMessage:"Це перший слайд",lastSlideMessage:"Це останній слайд"},on:{init:function(){this.navigation.update()},slideChange:function(){this.navigation.update()}}})});new I(".accordion-container",{triggerClass:"faq-trigger",showMultiple:!0});const T=document.querySelector(".covers-wrapper"),k=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting?e.target.classList.add("animation"):e.target.classList.remove("animation")})},{threshold:0});k.observe(T);const O="https://portfolio-js.b.goit.study/api/reviews",v=document.querySelector(".reviews-list"),w=document.querySelector(".swiper-button-prev"),g=document.querySelector(".swiper-button-next");let a=null;async function R(){try{const t=await fetch(O);if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);const e=await t.json();if(!Array.isArray(e)||e.length===0){v.innerHTML='<p class="not-found">Not found</p>',E();return}V(e),setTimeout(()=>{h(),N()},0)}catch(t){console.error("Error fetching reviews:",t),v.innerHTML='<li class="not-found"><p>Not found</p></li>',E()}}function V(t){v.innerHTML="",t.forEach(({avatar_url:e,author:n,review:i})=>{const s=document.createElement("li");s.classList.add("swiper-slide","review-card"),s.innerHTML=`
            <img src="${e}" alt="${n}" class="review-avatar">
            <h3 class="review-name">${n}</h3>
            <p class="review-text">${i}</p>
        `,v.appendChild(s)}),P(),window.addEventListener("resize",H)}function h(){const t=document.querySelectorAll(".review-card");if(!t.length)return;let e=0;t.forEach(n=>{n.style.height="auto",e=Math.max(e,n.offsetHeight)}),t.forEach(n=>{n.style.height=`${e}px`}),a&&a.update()}function P(){const t=window.innerWidth,e=document.querySelector(".container-reviews"),n=document.querySelector(".reviews"),i=document.querySelectorAll(".slider-btn");t<=767?(e.style.maxWidth="375px",e.style.padding="0 16px",n.style.padding="32px 0"):t<=1439?(e.style.width="734px",e.style.padding="0 16px",n.style.padding="48px 0"):(e.style.removeProperty("max-width"),e.style.removeProperty("width"),e.style.removeProperty("padding"),n.style.removeProperty("padding")),i.forEach(s=>{s.style.width="52px",s.style.height="52px",s.style.padding="14px"}),h()}function H(){P(),a&&a.update()}function N(){a&&a.destroy(!0,!0),a=new S(".reviews-slider",{modules:[x,q],slidesPerView:1,slidesPerGroup:1,spaceBetween:16,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{375:{slidesPerView:1,slidesPerGroup:1},768:{slidesPerView:2,slidesPerGroup:1},1440:{slidesPerView:4,slidesPerGroup:1}},on:{init:function(){y(this),h()},slideChange:function(){y(this)}}}),y(a)}function y(t){t.isBeginning?f(w):b(w),t.isEnd?f(g):b(g)}function f(t){t.classList.add("swiper-button-disabled"),t.setAttribute("disabled","true")}function b(t){t.classList.remove("swiper-button-disabled"),t.removeAttribute("disabled")}function E(){f(w),f(g)}R();document.addEventListener("DOMContentLoaded",function(){const t=document.querySelector(".footer-form"),e=document.querySelector(".email-message"),n=document.querySelector(".email-input"),i=document.querySelector(".comments-input"),s=document.querySelector(".modal"),o=document.querySelector(".close-modal");t.addEventListener("submit",async function(d){d.preventDefault();const c=n.value,u=i.value;if(/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(n.value))e.textContent="Success!",e.classList.add("valid"),e.classList.remove("invalid"),n.classList.add("valid"),n.classList.remove("invalid");else{e.textContent="Invalid email, try again",e.classList.add("invalid"),e.classList.remove("valid"),n.classList.add("invalid"),n.classList.remove("valid");return}if(u===""){L.warning({title:"Warning",message:"The comment field must be filled in.",position:"topRight",timeout:4e3});return}try{const p=await A.post("https://portfolio-js.b.goit.study/api/requests",{email:c,comment:u});if(console.log(p),p.status===201)s.classList.remove("hidden"),document.body.classList.add("modal-open"),t.reset(),e.textContent="",e.classList.remove("valid","invalid"),n.classList.remove("valid","invalid");else throw new Error("Unexpected server response")}catch(p){errorMessage.classList.remove("hidden"),console.error("Помилка при відправці:",p),L.error({title:"Error",message:"There was an error while submitting your request. Please try again later.",position:"topRight",timeout:3e3})}});const l=()=>{s.classList.add("hidden"),document.body.classList.remove("modal-open")};o.addEventListener("click",l),s.addEventListener("click",function(d){d.target===s&&l()}),document.addEventListener("keydown",function(d){d.key==="Escape"&&l()}),i.addEventListener("input",function(){const c=document.createElement("canvas").getContext("2d");c.font=window.getComputedStyle(i).font;const u=i.clientWidth-10;let r=i.value;for(;c.measureText(r).width>u&&r.length>1;)r="..."+r.slice(4);c.measureText(r).width>u&&(r="..."),i.value=r})});
//# sourceMappingURL=index.js.map
